---

title: "Support JBoss AS 4.2.x"
layout: issue
tags: 
permalink: /browse/CDV-573

issue_key: CDV-573
issue_numeric_sort_key: 573
issuetype: "New Feature"
project: "Community Development (Terracotta Server)"
project_key: "CDV"
status: "Closed"
resolution: "Fixed"
priority: "0 Showstopper"
components: ""
labels: 
assignee: "hsingh"
reporter: "tgautier"
votes:  27
watchers: 23

created: "2008-01-07T11:39:43.000-0500"
updated: "2013-02-12T14:02:18.000-0500"
resolved: "2009-01-06T19:21:12.000-0500"

---



{% raw %}



## Description

<div markdown="1" class="description">



</div>

## Comments


{:.comment-heading}
### **Taylor Gautier** <span class="date">2008-01-07</span>

<div markdown="1" class="comment">

http://forums.terracotta.org/forums/posts/list/707.page

</div>


{:.comment-heading}
### **Fiona OShea** <span class="date">2008-01-11</span>

<div markdown="1" class="comment">

Dup of CDV-575

</div>


{:.comment-heading}
### **Fiona OShea** <span class="date">2008-01-11</span>

<div markdown="1" class="comment">

Re-opening this one as it  has a vote

</div>


{:.comment-heading}
### **Jeremy Haile** <span class="date">2008-01-29</span>

<div markdown="1" class="comment">

We are trying to run Terracotta on JBoss 4.2.2.GA and it does not work.  I first tried Terracotta 2.5.0 and also a nightly (Terracotta 2.5.1-nightly-rev6854, as of 20080128-180114)

The error message I receive is Cannot determine tomcat version from JBossWeb/2.0.1.GA

</div>


{:.comment-heading}
### **Eugene Batogov** <span class="date">2008-03-31</span>

<div markdown="1" class="comment">

I am trying to use Terracotta 2.5.2 with JBoss-4.2.2.GA (Hibernate-3.2.6.GA) and get the same error:

java.lang.NullPointerException
        at com.tc.jboss.JBossLoaderNaming.makeUCLName(JBossLoaderNaming.java:99)
        at com.tc.jboss.JBossLoaderNaming.getLoaderName(JBossLoaderNaming.java:68)
        at org.jboss.mx.loading.UnifiedClassLoader.<init>(UnifiedClassLoader.java:113)
        at org.jboss.mx.loading.UnifiedClassLoader.<init>(UnifiedClassLoader.java:94)
        at org.jboss.mx.loading.UnifiedClassLoader3.<init>(UnifiedClassLoader3.java:62)
        at org.jboss.mx.loading.UnifiedClassLoader3.<init>(UnifiedClassLoader3.java:50)
        at org.jboss.ejb3.entity.PersistenceUnitInfoImpl.getNewTempClassLoader(PersistenceUnitInfoImpl.java:68)
        at org.hibernate.ejb.Ejb3Configuration.addXMLEntities(Ejb3Configuration.java:429)
        at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:360)
        at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:126)
        at org.jboss.ejb3.entity.PersistenceUnitDeployment.start(PersistenceUnitDeployment.java:246)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.jboss.ejb3.ServiceDelegateWrapper.startService(ServiceDelegateWrapper.java:103)
        at org.jboss.system.ServiceMBeanSupport.jbossInternalStart(ServiceMBeanSupport.java:289)
        at org.jboss.system.ServiceMBeanSupport.jbossInternalLifecycle(ServiceMBeanSupport.java:245)
        at sun.reflect.GeneratedMethodAccessor8.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
        at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
        at org.jboss.mx.server.Invocation.invoke(Invocation.java:86)
        at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
        at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
        at org.jboss.system.ServiceController$ServiceProxy.invoke(ServiceController.java:978)
        at $Proxy0.start(Unknown Source)


Please, correct this problem. I think that very many people needs in this. ;)


</div>


{:.comment-heading}
### **Thomas Baumgaertner** <span class="date">2008-10-30</span>

<div markdown="1" class="comment">

Please, correct this problem. I know that very many people needs in this ;)

</div>


{:.comment-heading}
### **Szymon Zeslawski** <span class="date">2008-12-02</span>

<div markdown="1" class="comment">

Hi, is anybody looking into the possible solution? I know it is an open-source project and things take time but this has been up for almost a year! Also it is the most voted issue in JIRA right now (27 votes compared to 5 of the next top-issue). I know that you would prefer to spend your resources on enterprise part of the project (we all need to make a living) but isn't this one hanging here for just a bit too long? No offence meant, just curious :)

</div>


{:.comment-heading}
### **Szymon Zeslawski** <span class="date">2008-12-02</span>

<div markdown="1" class="comment">

also, I downloaded JBoss 4.0.5GA for Terracotta setup testing and I get the same error as with 4.2.3GA. How is this possible as 4.0.5 is supposed to be supported?

The logs follow:

Starting BootJarTool...
2008-12-02 14:13:00,162 INFO - Terracotta 2.7.1, as of 20081106-141111 (Revision 10770 by cruise@su10mo5 from 2.7)
2008-12-02 14:13:00,471 INFO - Configuration loaded from the file at '/home/szymon/tc-config.xml'.
=========================================================================

  JBoss Bootstrap Environment

  JBOSS\1HOME: /home/szymon/java/jboss-4.0.5.GA

  JAVA: /usr/lib/jvm/java-1.5.0-sun/bin/java

  JAVA\1OPTS: -Dprogram.name=run.sh -server -Xbootclasspath/p:/usr/local/java/terracotta-2.7.1/lib/dso-boot/dso-boot-hotspot\1linux\1150\115.jar -Dtc.install-root=/usr/local/java/terracotta-2.7.1 -Dtc.config=/home/szymon/tc-config.xml  -XX:+CMSPermGenSweepingEnabled -XX:MaxPermSize=512m -DCMAS=/home/szymon/java/daimler
 -Dcmas.dir=/home/szymon/java/daimler -Dhttp://apache.org/xml/features/nonvalidating/load-external-dtd=false
 -Dcom.sun.management.jmxremote -Djavax.management.builder.initial=org.jboss.system.server.jmx.MBeanServerBuilderImpl -Djboss.platform.mbeanserver

  CLASSPATH: /home/szymon/java/jboss-4.0.5.GA/bin/run.jar:/usr/lib/jvm/java-1.5.0-sun/lib/tools.jar

=========================================================================

2008-12-02 14:13:02,288 INFO - Terracotta 2.7.1, as of 20081106-141111 (Revision 10770 by cruise@su10mo5 from 2.7)
2008-12-02 14:13:02,645 INFO - Configuration loaded from the file at '/home/szymon/tc-config.xml'.
2008-12-02 14:13:02,716 INFO - Log file: '/usr/local/java/jboss-4.0.5.GA/bin/logs-127.0.1.1/terracotta-client.log'.
2008-12-02 14:13:06,174 INFO - Statistics buffer: '/usr/local/java/jboss-4.0.5.GA/bin/statistics-127.0.1.1'.
14:13:06,843 INFO  [Server] Starting JBoss (MX MicroKernel)...
14:13:06,844 INFO  [Server] Release ID: JBoss [Zion] 4.0.5.GA (build: CVSTag=Branch\14\10 date=200610162339)
14:13:06,845 INFO  [Server] Home Dir: /usr/local/java/jboss-4.0.5.GA
14:13:06,845 INFO  [Server] Home URL: file:/usr/local/java/jboss-4.0.5.GA/
14:13:06,847 INFO  [Server] Patch URL: null
14:13:06,848 INFO  [Server] Server Name: cmas
14:13:06,848 INFO  [Server] Server Home Dir: /usr/local/java/jboss-4.0.5.GA/server/cmas
14:13:06,848 INFO  [Server] Server Home URL: file:/usr/local/java/jboss-4.0.5.GA/server/cmas/
14:13:06,848 INFO  [Server] Server Log Dir: /usr/local/java/jboss-4.0.5.GA/server/cmas/log
14:13:06,848 INFO  [Server] Server Temp Dir: /usr/local/java/jboss-4.0.5.GA/server/cmas/tmp
14:13:06,848 INFO  [Server] Root Deployment Filename: jboss-service.xml
14:13:07,490 INFO  [ServerInfo] Java version: 1.5.0\115,Sun Microsystems Inc.
14:13:07,490 INFO  [ServerInfo] Java VM: Java HotSpot(TM) 64-Bit Server VM 1.5.0\115-b04,Sun Microsystems Inc.
14:13:07,490 INFO  [ServerInfo] OS-System: Linux 2.6.24-21-server,amd64
...
java.lang.AssertionError: Cannot determine tomcat version from JBossWeb/2.0.1.GA
        at com.tc.tomcat.session.VersionHelper.<clinit>(VersionHelper.java:44)
        at org.apache.catalina.core.ContainerBase.<init>(ContainerBase.java:229)
        at org.apache.catalina.core.StandardEngine.<init>(StandardEngine.java:65)
        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
        at java.lang.reflect.Constructor.newInstance(Constructor.java:494)
        at java.lang.Class.newInstance0(Class.java:350)
        at java.lang.Class.newInstance(Class.java:303)
        at org.apache.tomcat.util.digester.ObjectCreateRule.begin(ObjectCreateRule.java:206)
        at org.apache.tomcat.util.digester.Rule.begin(Rule.java:153)
        at org.apache.tomcat.util.digester.Digester.startElement(Digester.java:1354)
        at org.apache.xerces.parsers.AbstractSAXParser.startElement(Unknown Source)
        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanStartElement(Unknown Source)
        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
        at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
        at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
        at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
        at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
        at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
        at org.apache.tomcat.util.digester.Digester.parse(Digester.java:1643)
        at org.apache.catalina.startup.Catalina.load(Catalina.java:514)
        at org.apache.catalina.startup.Catalina.start(Catalina.java:568)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:296)
        at org.jboss.mx.server.RawDynamicInvoker.invoke(RawDynamicInvoker.java:164)
        at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
        at org.jboss.web.tomcat.service.JBossWeb.startService(JBossWeb.java:457)
        at org.jboss.system.ServiceMBeanSupport.jbossInternalStart(ServiceMBeanSupport.java:289)
        at org.jboss.system.ServiceMBeanSupport.jbossInternalLifecycle(ServiceMBeanSupport.java:245)
        at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
        at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
        at org.jboss.mx.interceptor.AbstractInterceptor.invoke(AbstractInterceptor.java:133)
        at org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
        at org.jboss.mx.interceptor.ModelMBeanOperationInterceptor.invoke(ModelMBeanOperationInterceptor.java:142)
        at org.jboss.mx.interceptor.DynamicInterceptor.invoke(DynamicInterceptor.java:97)
        at org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
        at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
        at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
        at org.jboss.system.ServiceController$ServiceProxy.invoke(ServiceController.java:978)
        at $Proxy2.start(Unknown Source)
        at org.jboss.system.ServiceController.start(ServiceController.java:417)
        at org.jboss.system.ServiceController.start(ServiceController.java:435)
        at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
        at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
        at org.jboss.mx.server.Invocation.invoke(Invocation.java:86)
        at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
        at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
        at org.jboss.mx.util.MBeanProxyExt.invoke(MBeanProxyExt.java:210)
        at $Proxy6.start(Unknown Source)
        at org.jboss.deployment.SARDeployer.start(SARDeployer.java:302)
        at org.jboss.deployment.MainDeployer.start(MainDeployer.java:1025)
        at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:819)
        at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:782)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
        at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
        at org.jboss.mx.interceptor.AbstractInterceptor.invoke(AbstractInterceptor.java:133)
        at org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
        at org.jboss.mx.interceptor.ModelMBeanOperationInterceptor.invoke(ModelMBeanOperationInterceptor.java:142)
        at org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
        at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
        at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
        at org.jboss.mx.util.MBeanProxyExt.invoke(MBeanProxyExt.java:210)
        at $Proxy10.deploy(Unknown Source)
        at org.jboss.deployment.scanner.URLDeploymentScanner.deploy(URLDeploymentScanner.java:421)
        at org.jboss.deployment.scanner.URLDeploymentScanner.scan(URLDeploymentScanner.java:634)
        at org.jboss.deployment.scanner.AbstractDeploymentScanner$ScannerThread.doScan(AbstractDeploymentScanner.java:263)
        at org.jboss.deployment.scanner.AbstractDeploymentScanner.startService(AbstractDeploymentScanner.java:336)
        at org.jboss.system.ServiceMBeanSupport.jbossInternalStart(ServiceMBeanSupport.java:289)
        at org.jboss.system.ServiceMBeanSupport.jbossInternalLifecycle(ServiceMBeanSupport.java:245)
        at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
        at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
        at org.jboss.mx.server.Invocation.invoke(Invocation.java:86)
        at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
        at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
        at org.jboss.system.ServiceController$ServiceProxy.invoke(ServiceController.java:978)
        at $Proxy2.start(Unknown Source)
        at org.jboss.system.ServiceController.start(ServiceController.java:417)
        at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
        at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
        at org.jboss.mx.server.Invocation.invoke(Invocation.java:86)
        at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
        at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
        at org.jboss.mx.util.MBeanProxyExt.invoke(MBeanProxyExt.java:210)
        at $Proxy6.start(Unknown Source)
        at org.jboss.deployment.SARDeployer.start(SARDeployer.java:302)
        at org.jboss.deployment.MainDeployer.start(MainDeployer.java:1025)
        at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:819)
        at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:782)
        at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:766)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
        at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
        at org.jboss.mx.interceptor.AbstractInterceptor.invoke(AbstractInterceptor.java:133)
        at org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
        at org.jboss.mx.interceptor.ModelMBeanOperationInterceptor.invoke(ModelMBeanOperationInterceptor.java:142)
        at org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
        at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
        at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
        at org.jboss.mx.util.MBeanProxyExt.invoke(MBeanProxyExt.java:210)
        at $Proxy7.deploy(Unknown Source)
        at org.jboss.system.server.ServerImpl.doStart(ServerImpl.java:482)
        at org.jboss.system.server.ServerImpl.start(ServerImpl.java:362)
        at org.jboss.Main.boot(Main.java:200)
        at org.jboss.Main$1.run(Main.java:490)
        at java.lang.Thread.run(Thread.java:595)
10332  ERROR deler.BaseModelMBean| Exception invoking method start
java.lang.AssertionError: Cannot determine tomcat version from JBossWeb/2.0.1.GA
        at com.tc.tomcat.session.VersionHelper.<clinit>(VersionHelper.java:44)
        at org.apache.catalina.core.ContainerBase.<init>(ContainerBase.java:229)
        at org.apache.catalina.core.StandardEngine.<init>(StandardEngine.java:65)
        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
        at java.lang.reflect.Constructor.newInstance(Constructor.java:494)
        at java.lang.Class.newInstance0(Class.java:350)
        at java.lang.Class.newInstance(Class.java:303)
        at org.apache.tomcat.util.digester.ObjectCreateRule.begin(ObjectCreateRule.java:206)
        at org.apache.tomcat.util.digester.Rule.begin(Rule.java:153)
        at org.apache.tomcat.util.digester.Digester.startElement(Digester.java:1354)
        at org.apache.xerces.parsers.AbstractSAXParser.startElement(Unknown Source)
        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanStartElement(Unknown Source)
        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
        at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
        at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
        at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
        at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
        at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
        at org.apache.tomcat.util.digester.Digester.parse(Digester.java:1643)
        at org.apache.catalina.startup.Catalina.load(Catalina.java:514)
        at org.apache.catalina.startup.Catalina.start(Catalina.java:568)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:296)
        at org.jboss.mx.server.RawDynamicInvoker.invoke(RawDynamicInvoker.java:164)
        at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
        at org.jboss.web.tomcat.service.JBossWeb.startService(JBossWeb.java:457)
        at org.jboss.system.ServiceMBeanSupport.jbossInternalStart(ServiceMBeanSupport.java:289)
        at org.jboss.system.ServiceMBeanSupport.jbossInternalLifecycle(ServiceMBeanSupport.java:245)
        at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
        at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
        at org.jboss.mx.interceptor.AbstractInterceptor.invoke(AbstractInterceptor.java:133)
        at org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
        at org.jboss.mx.interceptor.ModelMBeanOperationInterceptor.invoke(ModelMBeanOperationInterceptor.java:142)
        at org.jboss.mx.interceptor.DynamicInterceptor.invoke(DynamicInterceptor.java:97)
        at org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
        at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
        at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
        at org.jboss.system.ServiceController$ServiceProxy.invoke(ServiceController.java:978)
        at $Proxy2.start(Unknown Source)
        at org.jboss.system.ServiceController.start(ServiceController.java:417)
        at org.jboss.system.ServiceController.start(ServiceController.java:435)
        at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
        at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
        at org.jboss.mx.server.Invocation.invoke(Invocation.java:86)
        at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
        at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
        at org.jboss.mx.util.MBeanProxyExt.invoke(MBeanProxyExt.java:210)
        at $Proxy6.start(Unknown Source)
        at org.jboss.deployment.SARDeployer.start(SARDeployer.java:302)
        at org.jboss.deployment.MainDeployer.start(MainDeployer.java:1025)
        at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:819)
        at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:782)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
        at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
        at org.jboss.mx.interceptor.AbstractInterceptor.invoke(AbstractInterceptor.java:133)
        at org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
        at org.jboss.mx.interceptor.ModelMBeanOperationInterceptor.invoke(ModelMBeanOperationInterceptor.java:142)
        at org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
        at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
        at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
        at org.jboss.mx.util.MBeanProxyExt.invoke(MBeanProxyExt.java:210)
        at $Proxy10.deploy(Unknown Source)
        at org.jboss.deployment.scanner.URLDeploymentScanner.deploy(URLDeploymentScanner.java:421)
        at org.jboss.deployment.scanner.URLDeploymentScanner.scan(URLDeploymentScanner.java:634)
        at org.jboss.deployment.scanner.AbstractDeploymentScanner$ScannerThread.doScan(AbstractDeploymentScanner.java:263)
        at org.jboss.deployment.scanner.AbstractDeploymentScanner.startService(AbstractDeploymentScanner.java:336)
        at org.jboss.system.ServiceMBeanSupport.jbossInternalStart(ServiceMBeanSupport.java:289)
        at org.jboss.system.ServiceMBeanSupport.jbossInternalLifecycle(ServiceMBeanSupport.java:245)
        at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
        at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
        at org.jboss.mx.server.Invocation.invoke(Invocation.java:86)
        at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
        at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
        at org.jboss.system.ServiceController$ServiceProxy.invoke(ServiceController.java:978)
        at $Proxy2.start(Unknown Source)
        at org.jboss.system.ServiceController.start(ServiceController.java:417)
        at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
        at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
        at org.jboss.mx.server.Invocation.invoke(Invocation.java:86)
        at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
        at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
        at org.jboss.mx.util.MBeanProxyExt.invoke(MBeanProxyExt.java:210)
        at $Proxy6.start(Unknown Source)
        at org.jboss.deployment.SARDeployer.start(SARDeployer.java:302)
        at org.jboss.deployment.MainDeployer.start(MainDeployer.java:1025)
        at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:819)
        at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:782)
        at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:766)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
        at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
        at org.jboss.mx.interceptor.AbstractInterceptor.invoke(AbstractInterceptor.java:133)
        at org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
        at org.jboss.mx.interceptor.ModelMBeanOperationInterceptor.invoke(ModelMBeanOperationInterceptor.java:142)
        at org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
        at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
        at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
        at org.jboss.mx.util.MBeanProxyExt.invoke(MBeanProxyExt.java:210)
        at $Proxy7.deploy(Unknown Source)
        at org.jboss.system.server.ServerImpl.doStart(ServerImpl.java:482)
        at org.jboss.system.server.ServerImpl.start(ServerImpl.java:362)
        at org.jboss.Main.boot(Main.java:200)
        at org.jboss.Main$1.run(Main.java:490)
        at java.lang.Thread.run(Thread.java:595)
10337  WARN  em.ServiceController| Problem starting service jboss.web:service=WebServer
java.lang.AssertionError: Cannot determine tomcat version from JBossWeb/2.0.1.GA
        at com.tc.tomcat.session.VersionHelper.<clinit>(VersionHelper.java:44)
        at org.apache.catalina.core.ContainerBase.<init>(ContainerBase.java:229)
        at org.apache.catalina.core.StandardEngine.<init>(StandardEngine.java:65)
        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
        at java.lang.reflect.Constructor.newInstance(Constructor.java:494)
        at java.lang.Class.newInstance0(Class.java:350)
        at java.lang.Class.newInstance(Class.java:303)
        at org.apache.tomcat.util.digester.ObjectCreateRule.begin(ObjectCreateRule.java:206)
        at org.apache.tomcat.util.digester.Rule.begin(Rule.java:153)
        at org.apache.tomcat.util.digester.Digester.startElement(Digester.java:1354)
        at org.apache.xerces.parsers.AbstractSAXParser.startElement(Unknown Source)
        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanStartElement(Unknown Source)
        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
        at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
        at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
        at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
        at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
        at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
        at org.apache.tomcat.util.digester.Digester.parse(Digester.java:1643)
        at org.apache.catalina.startup.Catalina.load(Catalina.java:514)
        at org.apache.catalina.startup.Catalina.start(Catalina.java:568)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:296)
        at org.jboss.mx.server.RawDynamicInvoker.invoke(RawDynamicInvoker.java:164)
        at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
        at org.jboss.web.tomcat.service.JBossWeb.startService(JBossWeb.java:457)
        at org.jboss.system.ServiceMBeanSupport.jbossInternalStart(ServiceMBeanSupport.java:289)
        at org.jboss.system.ServiceMBeanSupport.jbossInternalLifecycle(ServiceMBeanSupport.java:245)
        at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
        at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
        at org.jboss.mx.interceptor.AbstractInterceptor.invoke(AbstractInterceptor.java:133)
        at org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
        at org.jboss.mx.interceptor.ModelMBeanOperationInterceptor.invoke(ModelMBeanOperationInterceptor.java:142)
        at org.jboss.mx.interceptor.DynamicInterceptor.invoke(DynamicInterceptor.java:97)
        at org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
        at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
        at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
        at org.jboss.system.ServiceController$ServiceProxy.invoke(ServiceController.java:978)
        at $Proxy2.start(Unknown Source)
        at org.jboss.system.ServiceController.start(ServiceController.java:417)
        at org.jboss.system.ServiceController.start(ServiceController.java:435)
        at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
        at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
        at org.jboss.mx.server.Invocation.invoke(Invocation.java:86)
        at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
        at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
        at org.jboss.mx.util.MBeanProxyExt.invoke(MBeanProxyExt.java:210)
        at $Proxy6.start(Unknown Source)
        at org.jboss.deployment.SARDeployer.start(SARDeployer.java:302)
        at org.jboss.deployment.MainDeployer.start(MainDeployer.java:1025)
        at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:819)
        at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:782)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
        at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
        at org.jboss.mx.interceptor.AbstractInterceptor.invoke(AbstractInterceptor.java:133)
        at org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
        at org.jboss.mx.interceptor.ModelMBeanOperationInterceptor.invoke(ModelMBeanOperationInterceptor.java:142)
        at org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
        at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
        at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
        at org.jboss.mx.util.MBeanProxyExt.invoke(MBeanProxyExt.java:210)
        at $Proxy10.deploy(Unknown Source)
        at org.jboss.deployment.scanner.URLDeploymentScanner.deploy(URLDeploymentScanner.java:421)
        at org.jboss.deployment.scanner.URLDeploymentScanner.scan(URLDeploymentScanner.java:634)
        at org.jboss.deployment.scanner.AbstractDeploymentScanner$ScannerThread.doScan(AbstractDeploymentScanner.java:263)
        at org.jboss.deployment.scanner.AbstractDeploymentScanner.startService(AbstractDeploymentScanner.java:336)
        at org.jboss.system.ServiceMBeanSupport.jbossInternalStart(ServiceMBeanSupport.java:289)
        at org.jboss.system.ServiceMBeanSupport.jbossInternalLifecycle(ServiceMBeanSupport.java:245)
        at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
        at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
        at org.jboss.mx.server.Invocation.invoke(Invocation.java:86)
        at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
        at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
        at org.jboss.system.ServiceController$ServiceProxy.invoke(ServiceController.java:978)
        at $Proxy2.start(Unknown Source)
        at org.jboss.system.ServiceController.start(ServiceController.java:417)
        at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
        at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
        at org.jboss.mx.server.Invocation.invoke(Invocation.java:86)
        at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
        at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
        at org.jboss.mx.util.MBeanProxyExt.invoke(MBeanProxyExt.java:210)
        at $Proxy6.start(Unknown Source)
        at org.jboss.deployment.SARDeployer.start(SARDeployer.java:302)
        at org.jboss.deployment.MainDeployer.start(MainDeployer.java:1025)
        at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:819)
        at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:782)
        at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:766)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
        at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
        at org.jboss.mx.interceptor.AbstractInterceptor.invoke(AbstractInterceptor.java:133)
        at org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
        at org.jboss.mx.interceptor.ModelMBeanOperationInterceptor.invoke(ModelMBeanOperationInterceptor.java:142)
        at org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
        at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
        at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
        at org.jboss.mx.util.MBeanProxyExt.invoke(MBeanProxyExt.java:210)
        at $Proxy7.deploy(Unknown Source)
        at org.jboss.system.server.ServerImpl.doStart(ServerImpl.java:482)
        at org.jboss.system.server.ServerImpl.start(ServerImpl.java:362)
        at org.jboss.Main.boot(Main.java:200)
        at org.jboss.Main$1.run(Main.java:490)
        at java.lang.Thread.run(Thread.java:595)


</div>


{:.comment-heading}
### **Fiona OShea** <span class="date">2008-12-02</span>

<div markdown="1" class="comment">


Szymon,
I've created a new Jira to track the error you are seeing with JBoss 4.0.5.
CDV-1071.

We will update that Jira  with information pertaining to the issues you are seeing with JBoss 4.0.5
Regards,
Fiona

</div>


{:.comment-heading}
### **Hung Huynh** <span class="date">2008-12-03</span>

<div markdown="1" class="comment">

Szymon, 

I did a little digging and I'm sure you were somehow running with JBoss 4.3.2.GA instead JBoss 4.0.5.GA with that stack trace.

The clue is from this line:   java.lang.AssertionError: Cannot determine tomcat version from JBossWeb/2.0.1.GA 

"JBossWeb/2.0.1.GA" is the server.info reported of JBoss 4.3.2. Look at file jboss-4.2.3.GA\server\default\deploy\jboss-web.deployer\jbossweb.jar\org\apache\catalina\util\ServerInfo.properties:

server.info=JBossWeb/2.0.1.GA
server.number=2.0.1.GA
server.built=Sep 28 2007 05:09:42


For JBoss 4.0.5, server.info is "Apache Tomcat/5.5.20".  Look at file jboss-4.0.5.GA\server\default\deploy\jbossweb-tomcat55.sar\catalina.jar\org\apache\catalina\util\ServerInfo.properties:

server.info=Apache Tomcat/5.5.20
server.number=5.5.20.0
server.built=Sep 12 2006 10:09:20


------------

I tested with a brand new jboss-4.0.5-GA with Terracotta 2.7.1 and it works fine. You could give a try  with a fresh download. 


hhuynh@olympus /c/temp/appservers/jboss-4.0.5.GA/bin
$ ./run.bat
===============================================================================

  JBoss Bootstrap Environment

  JBOSS\1HOME: c:\temp\appservers\jboss-4.0.5.GA\bin\\..

  JAVA: c:/jdk/jdk1.6.0\107\bin\java

  JAVA\1OPTS: -Dprogram.name=run.bat -server -Xms128m -Xmx512m -Dsun.rmi.dgc.client.gcInterval=3600000 -Dsun.rmi.dgc.server.gcInterval=3600000 -Xbootclasspath/p:"d:\work\builds\terracotta-2.7.1\bin\..\lib\dso-boot\dso-boot-hotspot\1win32\1160\107.jar" -Dtc.install-root="d:\work\builds\terracotta-2.7.1\bin\.." -Dtc.config=localhost:9510

  CLASSPATH: c:/jdk/jdk1.6.0\107\lib\tools.jar;c:\temp\appservers\jboss-4.0.5.GA\bin\\run.jar

===============================================================================

2008-12-02 18:42:02,882 INFO - Terracotta 2.7.1, as of 20081106-141111 (Revision 10770 by cruise@su10mo5 from 2.7)
2008-12-02 18:43:44,273 INFO - Configuration loaded from the server at 'localhost:9510'.
2008-12-02 18:43:44,458 INFO - Log file: 'c:\temp\appservers\jboss-4.0.5.GA\bin\logs-192.168.1.103\terracotta-client.log'.
2008-12-02 18:43:49,578 INFO - Statistics buffer: 'c:\temp\appservers\jboss-4.0.5.GA\bin\statistics-192.168.1.103'.
18:43:51,478 INFO [Server] Starting JBoss (MX MicroKernel)...
18:43:51,478 INFO [Server] Release ID: JBoss [Zion] 4.0.5.GA (build: CVSTag=Branch\14\10 date=200610162339)
18:43:51,480 INFO [Server] Home Dir: C:\temp\appservers\jboss-4.0.5.GA
18:43:51,480 INFO [Server] Home URL: file:/C:/temp/appservers/jboss-4.0.5.GA/
18:43:51,496 INFO [Server] Patch URL: null
18:43:51,496 INFO [Server] Server Name: default
18:43:51,496 INFO [Server] Server Home Dir: C:\temp\appservers\jboss-4.0.5.GA\server\default
18:43:51,496 INFO [Server] Server Home URL: file:/C:/temp/appservers/jboss-4.0.5.GA/server/default/
18:43:51,496 INFO [Server] Server Log Dir: C:\temp\appservers\jboss-4.0.5.GA\server\default\log
18:43:51,497 INFO [Server] Server Temp Dir: C:\temp\appservers\jboss-4.0.5.GA\server\default\tmp
18:43:51,497 INFO [Server] Root Deployment Filename: jboss-service.xml
18:43:52,678 INFO [ServerInfo] Java version: 1.6.0\107,Sun Microsystems Inc.
18:43:52,678 INFO [ServerInfo] Java VM: Java HotSpot(TM) Server VM 10.0-b23,Sun Microsystems Inc.
18:43:52,678 INFO [ServerInfo] OS-System: Windows Vista 6.0,x86
18:43:53,481 INFO [Server] Core system initialized
18:43:56,823 INFO [WebService] Using RMI server codebase: http://olympus:8083/
18:43:56,877 INFO [Log4jService$URLWatchTimerTask] Configuring from URL: resource:log4j.xml
18:44:03,342 INFO [ServiceEndpointManager] WebServices: jbossws-1.0.3.SP1 (date=200609291417)
18:44:05,802 INFO [Embedded] Catalina naming disabled
18:44:05,922 INFO [ClusterRuleSetFactory] Unable to find a cluster rule set in the classpath. Will load the default rule set.
18:44:05,923 INFO [ClusterRuleSetFactory] Unable to find a cluster rule set in the classpath. Will load the default rule set.
18:44:06,544 INFO [Http11BaseProtocol] Initializing Coyote HTTP/1.1 on http-0.0.0.0-8080
18:44:06,545 INFO [Catalina] Initialization processed in 622 ms
18:44:06,546 INFO [StandardService] Starting service jboss.web
18:44:06,550 INFO [StandardEngine] Starting Servlet Engine: Apache Tomcat/5.5.20
18:44:06,597 INFO [StandardHost] XML validation disabled
18:44:06,619 INFO [Catalina] Server startup in 74 ms
18:44:06,932 INFO [TomcatDeployer] deploy, ctxPath=/invoker, warUrl=.../deploy/http-invoker.sar/invoker.war/
18:44:07,430 INFO [WebappLoader] Dual registration of jndi stream handler: factory already defined
18:44:07,989 INFO [TomcatDeployer] deploy, ctxPath=/, warUrl=.../deploy/jbossweb-tomcat55.sar/ROOT.war/
18:44:09,016 INFO [TomcatDeployer] deploy, ctxPath=/jbossws, warUrl=.../tmp/deploy/tmp55155jbossws-context-exp.war/
18:44:09,784 INFO [TomcatDeployer] deploy, ctxPath=/jbossmq-httpil, warUrl=.../deploy/jms/jbossmq-httpil.sar/jbossmq-httpil.war/
18:44:11,333 INFO [TomcatDeployer] deploy, ctxPath=/web-console, warUrl=.../deploy/management/console-mgr.sar/web-console.war/
18:44:12,217 INFO [MailService] Mail Service bound to java:/Mail
18:44:12,563 INFO [RARDeployment] Required license terms exist, view META-INF/ra.xml in .../deploy/jboss-ha-local-jdbc.rar
18:44:12,660 INFO [RARDeployment] Required license terms exist, view META-INF/ra.xml in .../deploy/jboss-ha-xa-jdbc.rar
18:44:12,697 INFO [RARDeployment] Required license terms exist, view META-INF/ra.xml in .../deploy/jboss-local-jdbc.rar
18:44:12,738 INFO [RARDeployment] Required license terms exist, view META-INF/ra.xml in .../deploy/jboss-xa-jdbc.rar
18:44:12,787 INFO [RARDeployment] Required license terms exist, view META-INF/ra.xml in .../deploy/jms/jms-ra.rar
18:44:12,890 INFO [RARDeployment] Required license terms exist, view META-INF/ra.xml in .../deploy/mail-ra.rar
18:44:13,872 INFO [WrapperDataSourceService] Bound ConnectionManager 'jboss.jca:service=DataSourceBinding,name=DefaultDS' to JNDI name 'java:DefaultDS'
18:44:14,371 INFO [A] Bound to JNDI name: queue/A
18:44:14,373 INFO [B] Bound to JNDI name: queue/B
18:44:14,374 INFO [C] Bound to JNDI name: queue/C
18:44:14,376 INFO [D] Bound to JNDI name: queue/D
18:44:14,377 INFO [ex] Bound to JNDI name: queue/ex
18:44:14,424 INFO [testTopic] Bound to JNDI name: topic/testTopic
18:44:14,427 INFO [securedTopic] Bound to JNDI name: topic/securedTopic
18:44:14,430 INFO [testDurableTopic] Bound to JNDI name: topic/testDurableTopic
18:44:14,440 INFO [testQueue] Bound to JNDI name: queue/testQueue
18:44:14,539 INFO [UILServerILService] JBossMQ UIL service available at : /0.0.0.0:8093
18:44:14,612 INFO [DLQ] Bound to JNDI name: queue/DLQ
18:44:14,805 INFO [ConnectionFactoryBindingService] Bound ConnectionManager 'jboss.jca:service=ConnectionFactoryBinding,name=JmsXA' to JNDI name 'java:JmsXA'
18:44:14,893 INFO [TomcatDeployer] deploy, ctxPath=/jmx-console, warUrl=.../deploy/jmx-console.war/
18:44:15,241 INFO [Http11BaseProtocol] Starting Coyote HTTP/1.1 on http-0.0.0.0-8080
18:44:15,410 INFO [ChannelSocket] JK: ajp13 listening on /0.0.0.0:8009
18:44:15,425 INFO [JkMain] Jk running ID=0 time=0/38 config=null
18:44:15,444 INFO [Server] JBoss (MX MicroKernel) [4.0.5.GA (build: CVSTag=Branch\14\10 date=200610162339)] Started in 23s:893ms 

</div>


{:.comment-heading}
### **Szymon Zeslawski** <span class="date">2008-12-03</span>

<div markdown="1" class="comment">

I've tried it again and it was my mistake - I copied the run configuration from 4.2.3 to 4.0.5 but it did include 4.2.3 JARs in /lib. Therefore you were right, this issue is no longer valid.
Any word though when 4.2.3 will be supported?

</div>


{:.comment-heading}
### **Hung Huynh** <span class="date">2008-12-03</span>

<div markdown="1" class="comment">

glad to  sort it out. Our PM would have to decide the support for JBoss 4.2.3 some time. 

</div>


{:.comment-heading}
### **Tim Eck** <span class="date">2009-01-06</span>

<div markdown="1" class="comment">

Jboss 4.2.3 should be working now, will be available in 2.7.3 and beyond

</div>


{:.comment-heading}
### **Hung Huynh** <span class="date">2009-01-06</span>

<div markdown="1" class="comment">

If you download trunk-nightly kit, you could try it out.

</div>


{:.comment-heading}
### **Himadri Singh** <span class="date">2009-01-19</span>

<div markdown="1" class="comment">

Can we deploy examinator on JBoss 4.2.3.GA and terracotta?

</div>


{:.comment-heading}
### **Tim Eck** <span class="date">2009-01-19</span>

<div markdown="1" class="comment">

I would think examinator should work on jb 4.2.3 but I have not tried it personally. If it doesn't work, feel free to open another JIRA (but don't re-open this one)

</div>


{:.comment-heading}
### **Himadri Singh** <span class="date">2009-01-20</span>

<div markdown="1" class="comment">

jboss-4.2.3.GA is supported, The following are the logs for the JBoss start.

=========================================================================

  JBoss Bootstrap Environment

  JBOSS\1HOME: /shares/perf/hsingh/jboss-4.2.3.GA

  JAVA: /usr/java/default//bin/java

  JAVA\1OPTS: -Dprogram.name=run.sh -server -Xbootclasspath/p:/shares/perf/hsingh/terracotta-co/2.7/code/base/build/dist/terracotta-2.7.3-snapshot//lib/dso-boot/dso-boot-hotspot\1linux\1160\107.jar -Dtc.install-root=/shares/perf/hsingh/terracotta-co/2.7/code/base/build/dist/terracotta-2.7.3-snapshot/ -Dtc.config=/shares/perf/hsingh/examinator/branches/tc-2.7/tc-config.xml  -Djava.net.preferIPv4Stack=true

  CLASSPATH: /shares/perf/hsingh/jboss-4.2.3.GA/bin/run.jar:/usr/java/default//lib/tools.jar

=========================================================================

2009-01-19 21:22:25,821 INFO - Terracotta 2.7.3-SNAPSHOT, as of 20090119-020106 (Revision 11292 by bench@perf28 from 2.7)
2009-01-19 21:22:26,240 INFO - Configuration loaded from the file at '/shares/perf/hsingh/examinator/branches/tc-2.7/tc-config.xml'.
2009-01-19 21:22:27,254 INFO - Log file: '/shares/perf/hsingh/Lassen/target/terracotta/clients/logs/terracotta-client.log'.
Hibernate fine-grained read/write locking is enabled
2009-01-19 21:22:29,547 INFO - Statistics buffer: '/shares/perf/hsingh/Lassen/target/terracotta/clients/statistics'.
2009-01-19 21:22:29,841 INFO - Connection successfully established to server at 10.0.4.158:9510
21:22:31,086 INFO  [Server] Starting JBoss (MX MicroKernel)...
21:22:31,086 INFO  [Server] Release ID: JBoss [Trinity] 4.2.3.GA (build: SVNTag=JBoss\14\12\13\1GA date=200807181417)
21:22:31,087 INFO  [Server] Home Dir: /shares/perf/hsingh/jboss-4.2.3.GA
21:22:31,087 INFO  [Server] Home URL: file:/shares/perf/hsingh/jboss-4.2.3.GA/
21:22:31,092 INFO  [Server] Patch URL: null
21:22:31,092 INFO  [Server] Server Name: default
21:22:31,092 INFO  [Server] Server Home Dir: /shares/perf/hsingh/jboss-4.2.3.GA/server/default
21:22:31,092 INFO  [Server] Server Home URL: file:/shares/perf/hsingh/jboss-4.2.3.GA/server/default/
21:22:31,092 INFO  [Server] Server Log Dir: /shares/perf/hsingh/jboss-4.2.3.GA/server/default/log
21:22:31,092 INFO  [Server] Server Temp Dir: /shares/perf/hsingh/jboss-4.2.3.GA/server/default/tmp
21:22:31,092 INFO  [Server] Root Deployment Filename: jboss-service.xml
21:22:31,521 INFO  [ServerInfo] Java version: 1.6.0\107,Sun Microsystems Inc.
21:22:31,521 INFO  [ServerInfo] Java VM: Java HotSpot(TM) Server VM 10.0-b23,Sun Microsystems Inc.
21:22:31,521 INFO  [ServerInfo] OS-System: Linux 2.6.16.54-0.2.12-smp,i386
21:22:32,295 INFO  [Server] Core system initialized
21:22:35,036 INFO  [WebService] Using RMI server codebase: http://127.0.0.1:8083/
21:22:35,037 INFO  [Log4jService$URLWatchTimerTask] Configuring from URL: resource:jboss-log4j.xml
21:22:35,772 INFO  [TransactionManagerService] JBossTS Transaction Service (JTA version) - JBoss Inc.
21:22:35,773 INFO  [TransactionManagerService] Setting up property manager MBean and JMX layer
21:22:36,014 INFO  [TransactionManagerService] Starting recovery manager
21:22:36,165 INFO  [TransactionManagerService] Recovery manager started
21:22:36,165 INFO  [TransactionManagerService] Binding TransactionManager JNDI Reference
21:22:40,646 INFO  [EJB3Deployer] Starting java:comp multiplexer
21:22:44,439 INFO  [NativeServerConfig] JBoss Web Services - Native
21:22:44,439 INFO  [NativeServerConfig] jbossws-3.0.1-native-2.0.4.GA (build=200803312044)
21:22:45,699 INFO  [Embedded] Catalina naming disabled
21:22:45,957 INFO  [AprLifecycleListener] The Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: /usr/java/jdk1.6.0\107/jre/lib/i386/server:/usr/java/jdk1.6.0\107/jre/lib/i386:/usr/java/jdk1.6.0\107/jre/../lib/i386:/usr/java/packages/lib/i386:/lib:/usr/lib
21:22:46,075 INFO  [Http11Protocol] Initializing Coyote HTTP/1.1 on http-127.0.0.1-8080
21:22:46,076 INFO  [AjpProtocol] Initializing Coyote AJP/1.3 on ajp-127.0.0.1-8009
21:22:46,076 INFO  [Catalina] Initialization processed in 377 ms
21:22:46,076 INFO  [StandardService] Starting service jboss.web
21:22:46,077 INFO  [StandardEngine] Starting Servlet Engine: JBossWeb/2.0.1.GA
21:22:46,124 INFO  [Catalina] Server startup in 47 ms
21:22:46,572 INFO  [TomcatDeployer] deploy, ctxPath=/, warUrl=.../deploy/jboss-web.deployer/ROOT.war/
21:22:48,029 INFO  [TomcatDeployer] deploy, ctxPath=/invoker, warUrl=.../deploy/http-invoker.sar/invoker.war/
21:22:48,162 INFO  [TomcatDeployer] deploy, ctxPath=/jbossws, warUrl=.../deploy/jbossws.sar/jbossws-context.war/
21:22:48,260 INFO  [TomcatDeployer] deploy, ctxPath=/jbossmq-httpil, warUrl=.../deploy/jms/jbossmq-httpil.sar/jbossmq-httpil.war/
21:22:49,351 INFO  [TomcatDeployer] deploy, ctxPath=/web-console, warUrl=.../deploy/management/console-mgr.sar/web-console.war/
21:22:49,983 INFO  [MailService] Mail Service bound to java:/Mail
21:22:50,507 INFO  [RARDeployment] Required license terms exist, view META-INF/ra.xml in .../deploy/jboss-ha-local-jdbc.rar
21:22:50,619 INFO  [RARDeployment] Required license terms exist, view META-INF/ra.xml in .../deploy/jboss-ha-xa-jdbc.rar
21:22:50,759 INFO  [RARDeployment] Required license terms exist, view META-INF/ra.xml in .../deploy/jboss-local-jdbc.rar
21:22:50,863 INFO  [RARDeployment] Required license terms exist, view META-INF/ra.xml in .../deploy/jboss-xa-jdbc.rar
21:22:51,025 INFO  [RARDeployment] Required license terms exist, view META-INF/ra.xml in .../deploy/jms/jms-ra.rar
21:22:51,138 INFO  [RARDeployment] Required license terms exist, view META-INF/ra.xml in .../deploy/mail-ra.rar
21:22:51,228 INFO  [RARDeployment] Required license terms exist, view META-INF/ra.xml in .../deploy/quartz-ra.rar
21:22:51,241 INFO  [QuartzResourceAdapter] start quartz!!!
21:22:51,321 INFO  [SimpleThreadPool] Job execution threads will use class loader of thread: main
21:22:51,350 INFO  [QuartzScheduler] Quartz Scheduler v.1.5.2 created.
21:22:51,353 INFO  [RAMJobStore] RAMJobStore initialized.
21:22:51,353 INFO  [StdSchedulerFactory] Quartz scheduler 'DefaultQuartzScheduler' initialized from default resource file in Quartz package: 'quartz.properties'
21:22:51,354 INFO  [StdSchedulerFactory] Quartz scheduler version: 1.5.2
21:22:51,354 INFO  [QuartzScheduler] Scheduler DefaultQuartzScheduler\1$\1NON\1CLUSTERED started.
21:22:52,397 INFO  [ConnectionFactoryBindingService] Bound ConnectionManager 'jboss.jca:service=DataSourceBinding,name=DefaultDS' to JNDI name 'java:DefaultDS'
21:22:53,231 INFO  [A] Bound to JNDI name: queue/A
21:22:53,233 INFO  [B] Bound to JNDI name: queue/B
21:22:53,234 INFO  [C] Bound to JNDI name: queue/C
21:22:53,236 INFO  [D] Bound to JNDI name: queue/D
21:22:53,237 INFO  [ex] Bound to JNDI name: queue/ex
21:22:53,400 INFO  [testTopic] Bound to JNDI name: topic/testTopic
21:22:53,402 INFO  [securedTopic] Bound to JNDI name: topic/securedTopic
21:22:53,404 INFO  [testDurableTopic] Bound to JNDI name: topic/testDurableTopic
21:22:53,407 INFO  [testQueue] Bound to JNDI name: queue/testQueue
21:22:53,597 INFO  [UILServerILService] JBossMQ UIL service available at : /127.0.0.1:8093
21:22:53,655 INFO  [DLQ] Bound to JNDI name: queue/DLQ
21:22:53,943 INFO  [ConnectionFactoryBindingService] Bound ConnectionManager 'jboss.jca:service=ConnectionFactoryBinding,name=JmsXA' to JNDI name 'java:JmsXA'
21:22:54,011 INFO  [TomcatDeployer] deploy, ctxPath=/jmx-console, warUrl=.../deploy/jmx-console.war/
21:22:54,794 INFO  [Http11Protocol] Starting Coyote HTTP/1.1 on http-127.0.0.1-8080
21:22:54,808 INFO  [AjpProtocol] Starting Coyote AJP/1.3 on ajp-127.0.0.1-8009
21:22:54,818 INFO  [Server] JBoss (MX MicroKernel) [4.2.3.GA (build: SVNTag=JBoss\14\12\13\1GA date=200807181417)] Started in 23s:721ms

</div>


{:.comment-heading}
### **Himadri Singh** <span class="date">2009-01-20</span>

<div markdown="1" class="comment">

Examinator works with 4.2.3.GA JBoss. We might need to remove the hibernate jars from lib from server/default/lib, there were two hibernate jars that were causing problems.

</div>


{:.comment-heading}
### **Himadri Singh** <span class="date">2009-01-20</span>

<div markdown="1" class="comment">

We have more than one versions hibernate jar in the classpath when JBoss tries to deploy examinator. We get the following error.

20:26:14,293 INFO  [STDOUT] 20:26:14,275 ERROR ContextLoader:215 - Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name '\1methodSecurityInterceptorPostProcessor': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '\1methodDefinitionSourceAdvisor': Cannot resolve reference to bean '\1delegatingMethodDefinitionSource' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '\1delegatingMethodDefinitionSource': Cannot create inner bean '(inner bean)' of type [org.springframework.security.annotation.Jsr250MethodDefinitionSource] while setting bean property 'methodDefinitionSources' with key [0]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.transaction.interceptor.TransactionAttributeSourceAdvisor#0': Cannot create inner bean '(inner bean)' of type [org.springframework.transaction.interceptor.TransactionInterceptor] while setting bean property 'transactionInterceptor'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)': Cannot resolve reference to bean 'transactionManager' while setting bean property 'transactionManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'transactionManager' defined in class path resource [META-INF/spring/data-access.xml]: Cannot resolve reference to bean 'entityManagerFactory' while setting bean property 'entityManagerFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [META-INF/spring/data-access.xml]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/hibernate/event/PostDeleteEventListener
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:478)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:409)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.aw$original$\1AW\1$createBean$\1AW\1$org\1springframework\1beans\1factory\1support\1AbstractAutowireCapableBeanFactory(AbstractAutowireCapableBeanFactory.java:380)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory\11\1674776996\1662555251\1\1\1AW\1JoinPoint.proceed(Unknown Source)
	at com.tcspring.GetBeanProtocol.beanNameCflow(GetBeanProtocol.java:72)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory\11\1674776996\1662555251\1\1\1AW\1JoinPoint.proceed(Unknown Source)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory\11\1674776996\1662555251\1\1\1AW\1JoinPoint.invoke(Unknown Source)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:264)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:220)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:261)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:881)
	at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:606)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:366)
	at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:255)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:199)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:45)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:3856)
	at org.apache.catalina.core.StandardContext.start(StandardContext.java:4361)
	at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:790)
	at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:770)
	at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:553)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:296)
	at org.jboss.mx.server.RawDynamicInvoker.invoke(RawDynamicInvoker.java:164)
	at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
	at org.apache.catalina.core.StandardContext.init(StandardContext.java:5312)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:296)
	at org.jboss.mx.server.RawDynamicInvoker.invoke(RawDynamicInvoker.java:164)
	at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
	at org.jboss.web.tomcat.service.TomcatDeployer.performDeployInternal(TomcatDeployer.java:301)
	at org.jboss.web.tomcat.service.TomcatDeployer.performDeploy(TomcatDeployer.java:104)
	at org.jboss.web.AbstractWebDeployer.start(AbstractWebDeployer.java:375)
	at org.jboss.web.WebModule.startModule(WebModule.java:83)
	at org.jboss.web.WebModule.startService(WebModule.java:61)
	at org.jboss.system.ServiceMBeanSupport.jbossInternalStart(ServiceMBeanSupport.java:289)
	at org.jboss.system.ServiceMBeanSupport.jbossInternalLifecycle(ServiceMBeanSupport.java:245)
	at sun.reflect.GeneratedMethodAccessor8.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
	at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
	at org.jboss.mx.server.Invocation.invoke(Invocation.java:86)
	at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
	at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
	at org.jboss.system.ServiceController$ServiceProxy.invoke(ServiceController.java:978)
	at $Proxy1.start(Unknown Source)
	at org.jboss.system.ServiceController.start(ServiceController.java:417)
	at sun.reflect.GeneratedMethodAccessor14.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
	at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
	at org.jboss.mx.server.Invocation.invoke(Invocation.java:86)
	at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
	at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
	at org.jboss.mx.util.MBeanProxyExt.invoke(MBeanProxyExt.java:210)
	at $Proxy45.start(Unknown Source)
	at org.jboss.web.AbstractWebContainer.start(AbstractWebContainer.java:466)
	a

We can remove one of the hibernate jars either from the server lib dir or the examinator war. Removing from server lib was easier for me :) and anyway examinator WAR has the higher versions of these jars.

</div>


{:.comment-heading}
### **Tim Eck** <span class="date">2009-01-21</span>

<div markdown="1" class="comment">

Himadri -- those hibernate conflicts will happen with or without terracotta in the mix. You might be able to change the loader delegation strategy to make them co-exist, but I'm not sure about that. 

Anyway, if you think there is something wrong with the examinator app please open another JIRA item and let this one rest peacefully. thanks

</div>


{:.comment-heading}
### **Himadri Singh** <span class="date">2009-01-21</span>

<div markdown="1" class="comment">

=========================================================================

  JBoss Bootstrap Environment

  JBOSS\1HOME: /shares/perf/hsingh/jboss-4.2.3.GA

  JAVA: /usr/java/default//bin/java

  JAVA\1OPTS: -Dprogram.name=run.sh -server -Xbootclasspath/p:/shares/perf/hsingh/terracotta-2.7.3/lib/dso-boot/dso-boot-hotspot\1linux\1160\107.jar -Dtc.install-root=/shares/perf/hsingh/terracotta-2.7.3 -Dtc.config=/shares/perf/hsingh/Lassen/tc-config.xml  -Djava.net.preferIPv4Stack=true

  CLASSPATH: /shares/perf/hsingh/jboss-4.2.3.GA/bin/run.jar:/usr/java/default//lib/tools.jar

=========================================================================

2009-01-20 22:13:18,940 INFO - Terracotta 2.7.3, as of 20090120-170123 (Revision 11328 by cruise@su10mo5 from 2.7)
2009-01-20 22:13:19,435 INFO - Configuration loaded from the file at '/shares/perf/hsingh/Lassen/tc-config.xml'.
2009-01-20 22:13:20,308 INFO - Log file: '/shares/perf/hsingh/Lassen/target/terracotta/clients/logs/terracotta-client.log'.
2009-01-20 22:13:24,623 INFO - Statistics buffer: '/shares/perf/hsingh/Lassen/target/terracotta/clients/statistics'.
2009-01-20 22:13:25,009 INFO - Connection successfully established to server at 10.0.4.158:9510
22:13:25,702 INFO  [Server] Starting JBoss (MX MicroKernel)...
22:13:25,703 INFO  [Server] Release ID: JBoss [Trinity] 4.2.3.GA (build: SVNTag=JBoss\14\12\13\1GA date=200807181417)
22:13:25,704 INFO  [Server] Home Dir: /shares/perf/hsingh/jboss-4.2.3.GA
22:13:25,704 INFO  [Server] Home URL: file:/shares/perf/hsingh/jboss-4.2.3.GA/
22:13:25,720 INFO  [Server] Patch URL: null
22:13:25,720 INFO  [Server] Server Name: default
22:13:25,720 INFO  [Server] Server Home Dir: /shares/perf/hsingh/jboss-4.2.3.GA/server/default
22:13:25,720 INFO  [Server] Server Home URL: file:/shares/perf/hsingh/jboss-4.2.3.GA/server/default/
22:13:25,720 INFO  [Server] Server Log Dir: /shares/perf/hsingh/jboss-4.2.3.GA/server/default/log
22:13:25,720 INFO  [Server] Server Temp Dir: /shares/perf/hsingh/jboss-4.2.3.GA/server/default/tmp
22:13:25,721 INFO  [Server] Root Deployment Filename: jboss-service.xml
22:13:26,153 INFO  [ServerInfo] Java version: 1.6.0\107,Sun Microsystems Inc.
22:13:26,154 INFO  [ServerInfo] Java VM: Java HotSpot(TM) Server VM 10.0-b23,Sun Microsystems Inc.
22:13:26,154 INFO  [ServerInfo] OS-System: Linux 2.6.16.54-0.2.12-smp,i386
22:13:26,787 INFO  [Server] Core system initialized
22:13:29,001 INFO  [WebService] Using RMI server codebase: http://perf29.terracotta.lan:8083/
22:13:29,003 INFO  [Log4jService$URLWatchTimerTask] Configuring from URL: resource:jboss-log4j.xml
22:13:29,648 INFO  [TransactionManagerService] JBossTS Transaction Service (JTA version) - JBoss Inc.
22:13:29,648 INFO  [TransactionManagerService] Setting up property manager MBean and JMX layer
22:13:29,849 INFO  [TransactionManagerService] Starting recovery manager
22:13:29,969 INFO  [TransactionManagerService] Recovery manager started
22:13:29,970 INFO  [TransactionManagerService] Binding TransactionManager JNDI Reference
22:13:34,032 INFO  [EJB3Deployer] Starting java:comp multiplexer
22:13:37,530 INFO  [NativeServerConfig] JBoss Web Services - Native
22:13:37,530 INFO  [NativeServerConfig] jbossws-3.0.1-native-2.0.4.GA (build=200803312044)
22:13:38,803 INFO  [Embedded] Catalina naming disabled
22:13:39,010 INFO  [AprLifecycleListener] The Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: /usr/java/jdk1.6.0\107/jre/lib/i386/server:/usr/java/jdk1.6.0\107/jre/lib/i386:/usr/java/jdk1.6.0\107/jre/../lib/i386:/usr/java/packages/lib/i386:/lib:/usr/lib
22:13:39,117 INFO  [Http11Protocol] Initializing Coyote HTTP/1.1 on http-0.0.0.0-8080
22:13:39,117 INFO  [AjpProtocol] Initializing Coyote AJP/1.3 on ajp-0.0.0.0-8009
22:13:39,118 INFO  [Catalina] Initialization processed in 314 ms
22:13:39,118 INFO  [StandardService] Starting service jboss.web
22:13:39,118 INFO  [StandardEngine] Starting Servlet Engine: JBossWeb/2.0.1.GA
22:13:39,165 INFO  [Catalina] Server startup in 47 ms
22:13:39,467 INFO  [TomcatDeployer] deploy, ctxPath=/, warUrl=.../deploy/jboss-web.deployer/ROOT.war/
22:13:40,614 INFO  [TomcatDeployer] deploy, ctxPath=/invoker, warUrl=.../deploy/http-invoker.sar/invoker.war/
22:13:40,728 INFO  [TomcatDeployer] deploy, ctxPath=/jbossws, warUrl=.../deploy/jbossws.sar/jbossws-context.war/
22:13:40,810 INFO  [TomcatDeployer] deploy, ctxPath=/jbossmq-httpil, warUrl=.../deploy/jms/jbossmq-httpil.sar/jbossmq-httpil.war/
22:13:41,858 INFO  [TomcatDeployer] deploy, ctxPath=/web-console, warUrl=.../deploy/management/console-mgr.sar/web-console.war/
22:13:42,338 INFO  [MailService] Mail Service bound to java:/Mail
22:13:42,857 INFO  [RARDeployment] Required license terms exist, view META-INF/ra.xml in .../deploy/jboss-ha-local-jdbc.rar
22:13:42,941 INFO  [RARDeployment] Required license terms exist, view META-INF/ra.xml in .../deploy/jboss-ha-xa-jdbc.rar
22:13:43,068 INFO  [RARDeployment] Required license terms exist, view META-INF/ra.xml in .../deploy/jboss-local-jdbc.rar
22:13:43,213 INFO  [RARDeployment] Required license terms exist, view META-INF/ra.xml in .../deploy/jboss-xa-jdbc.rar
22:13:43,363 INFO  [RARDeployment] Required license terms exist, view META-INF/ra.xml in .../deploy/jms/jms-ra.rar
22:13:43,441 INFO  [RARDeployment] Required license terms exist, view META-INF/ra.xml in .../deploy/mail-ra.rar
22:13:43,543 INFO  [RARDeployment] Required license terms exist, view META-INF/ra.xml in .../deploy/quartz-ra.rar
22:13:43,552 INFO  [QuartzResourceAdapter] start quartz!!!
22:13:43,616 INFO  [SimpleThreadPool] Job execution threads will use class loader of thread: main
22:13:43,639 INFO  [QuartzScheduler] Quartz Scheduler v.1.5.2 created.
22:13:43,642 INFO  [RAMJobStore] RAMJobStore initialized.
22:13:43,642 INFO  [StdSchedulerFactory] Quartz scheduler 'DefaultQuartzScheduler' initialized from default resource file in Quartz package: 'quartz.properties'
22:13:43,642 INFO  [StdSchedulerFactory] Quartz scheduler version: 1.5.2
22:13:43,642 INFO  [QuartzScheduler] Scheduler DefaultQuartzScheduler\1$\1NON\1CLUSTERED started.
22:13:44,909 INFO  [ConnectionFactoryBindingService] Bound ConnectionManager 'jboss.jca:service=DataSourceBinding,name=DefaultDS' to JNDI name 'java:DefaultDS'
22:13:45,186 INFO  [A] Bound to JNDI name: queue/A
22:13:45,187 INFO  [B] Bound to JNDI name: queue/B
22:13:45,188 INFO  [C] Bound to JNDI name: queue/C
22:13:45,190 INFO  [D] Bound to JNDI name: queue/D
22:13:45,191 INFO  [ex] Bound to JNDI name: queue/ex
22:13:45,208 INFO  [testTopic] Bound to JNDI name: topic/testTopic
22:13:45,210 INFO  [securedTopic] Bound to JNDI name: topic/securedTopic
22:13:45,211 INFO  [testDurableTopic] Bound to JNDI name: topic/testDurableTopic
22:13:45,220 INFO  [testQueue] Bound to JNDI name: queue/testQueue
22:13:45,429 INFO  [UILServerILService] JBossMQ UIL service available at : /0.0.0.0:8093
22:13:45,466 INFO  [DLQ] Bound to JNDI name: queue/DLQ
22:13:45,702 INFO  [ConnectionFactoryBindingService] Bound ConnectionManager 'jboss.jca:service=ConnectionFactoryBinding,name=JmsXA' to JNDI name 'java:JmsXA'
22:13:45,732 INFO  [TomcatDeployer] deploy, ctxPath=/jmx-console, warUrl=.../deploy/jmx-console.war/
22:13:46,119 INFO  [Http11Protocol] Starting Coyote HTTP/1.1 on http-0.0.0.0-8080
22:13:46,136 INFO  [AjpProtocol] Starting Coyote AJP/1.3 on ajp-0.0.0.0-8009
22:13:46,158 INFO  [Server] JBoss (MX MicroKernel) [4.2.3.GA (build: SVNTag=JBoss\14\12\13\1GA date=200807181417)] Started in 20s:427ms

</div>



{% endraw %}
