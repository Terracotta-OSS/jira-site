---

title: "Cargo outputs \"Tomcat 5.x\" status messages for Tomcat 6 tests"
layout: issue
tags: 
permalink: /browse/CDV-1216

issue_key: CDV-1216
issue_numeric_sort_key: 1216
issuetype: "Bug"
project: "Community Development (Terracotta Server)"
project_key: "CDV"
status: "Closed"
resolution: "Fixed"
priority: "2 Major"
components: "Build & Test"
labels: 
assignee: "hhuynh"
reporter: "wharley"
votes:  0
watchers: 0

created: "2009-03-23T15:09:48.000-0400"
updated: "2012-07-27T19:59:55.000-0400"
resolved: "2009-06-05T16:25:27.000-0400"

---



{% raw %}



## Description

<div markdown="1" class="description">

I'm seeing this right now in tim-hibernate, but I believe the problem is more widespread.

A command like: 
  mvn -Psystem-tests -Dappserver=tomcat-6.0.18 integration-test
should run the tests using Tomcat 6.0.18 as a container.

However, the console output contains strings like the following:

  [03-23-2009 11:26:59.488][info][server\11] Tomcat 5.x starting...  
  [03-23-2009 11:27:09.321][info][server\11] Tomcat 5.x started on port [29865]
  [03-23-2009 11:27:36.340][info][server\11] Tomcat 5.x is stopping...
  [03-23-2009 11:27:40.732][info][server\11] Tomcat 5.x is stopped

I believe these messages are generated by Cargo; see org.codehaus.cargo.container.spi.AbstractLocalContainer for the calls that generate these messages, and org.codehaus.cargo.container.tomcat.Tomcat6xInstalledLocalContainer and org.codehaus.cargo.container.tomcat.internal.AbstractCatalinaInstalledLocalContainer for the getName() and getVersion() helper routines respectively.  The Tomcat6x implementation of getName() does seem to be correct, though, so I'm not sure where the bug comes in.  Perhaps we are invoking Cargo in some way that causes it to use Tomcat5xInstalledLocalContainer to produce a Tomcat 6 container; that could explain why we get the default "Tomcat 5.x" string rather than a specific version.

I'm pretty sure the problem is just cosmetic, because it appears that the correct version of Tomcat is actually being run (e.g., in server log I see INFO: Starting Servlet Engine: Apache Tomcat/6.0.18).  So it is probably either a Cargo bug or a bug in the way that we're invoking Cargo.



</div>

## Comments



{% endraw %}
